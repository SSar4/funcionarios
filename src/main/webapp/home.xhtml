<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<title>Empresa sara</title>
	<h:outputStylesheet library="test" name="estilo.css"></h:outputStylesheet>
</h:head>

<h:body>

    
<p:messages style="margin-left: 190px; width: 50%;"  id="messages" autoUpdate="false" showDetail="false" closable="true"/>

	<div class="container">
		<h1>Listagem de Pessoas</h1>
	</div>
	<br />
	<br />

	<h:form>
		
		<p:commandButton style="margin-left: 190px;" icon=""
			value="Cadastrar nova pessoa" action="#{pessoaBeans.iniciarForm()}" />
		<br />
		<br />
		<p:dataTable style="margin-left: 190px; width: 80%;" id="pessoaTable"
			value="#{pessoaBeans.listaPessoas}" var="pessoas"
			emptyMessage="Nenhuma informação a ser exibida" paginator="true"
			rows="10" paginatorPosition="bottom">
			
			<p:column headerText="Nome" sortBy="#{pessoas.nome}">
				<h:outputText value="#{pessoas.nome}" />
			</p:column>
			<p:column headerText="email">
				<h:outputText value="#{pessoas.email}" />
			</p:column>


			<p:column headerText="Cargo">
				<h:outputText value="#{pessoas.cargo.nomeCargo}" />
			</p:column>


			<p:column headerText="Salario">
				<h:outputText value="#{pessoas.salario.salario}" />
			</p:column>

			<p:column headerText="Recalcular">
				<p:commandButton value="recalcular salario"
					action="#{pessoaBeans.paginaCalcularSalario(pessoas)}" />
			</p:column>


			<p:column headerText="Editar">
				<p:commandButton icon="pi pi-pencil"
					action="#{pessoaBeans.preencherFormulario(pessoas.id)}" />
			</p:column>

			<p:column headerText="Ações">
				<p:commandButton icon="pi pi-trash" title="Excluir"
					action="#{pessoaBeans.excluir(pessoas)}" update="pessoaTable" />
			</p:column>
		</p:dataTable>
	</h:form>
	<br />
	<h:form>
		<p:commandButton action="#{sessionBeans.logout()}"
			style="margin-left: 190px;" icon="" value="logOut"></p:commandButton>
	</h:form>
</h:body>
</html>
